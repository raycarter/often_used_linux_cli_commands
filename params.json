{
  "name": "Often used linux cli commands",
  "tagline": "Linux, Ubuntu, bash, CLI",
  "body": "Daily often used commands under Linux (Ubuntu)\r\n==============================================\r\n\r\nThis is a list of my daily often used commands under Ubuntu Linux server and \r\ndesktop. It's for the people like me who do not have a good memory. I hope it \r\nwill save you a lot of time if you have this list near at hand and mostly don't \r\nneed to search a command online anymore. The comments before every command are \r\nnot trying to explain every option in the command. If you have any question \r\nabout the options please see the **--help** or **man** manuals. \r\n\r\nThere are a lot of other tricks to use the commands or combinations of the commands. \r\nIf you want to add your often used commands in the list, please **fork** this \r\nand make **Pull Request**. I'm still trying to update the list if I have some \r\ntime. \r\n\r\nEnjoy the list!\r\n\r\n> Fortunately I have the **root** privileges mostly. So the most of the \r\nfollowing commands don't have a **sudo** prefix.\r\n \r\n### User administration\r\n\r\n\t# create a user with home-dir\r\n\tuseradd -o -m -s /bin/bash/ username\r\n\t\r\n\t# create a super user, make him the SAME user as root and have home-dir\r\n\t# (BUT BE CAREFUL OF DOING THIS ENLESS YOU KNOW WHAT YOU ARE DOING)\r\n\t# to delete this super user: change the uid from 0 to other in the /etc/passwd\r\n\tuseradd -u 0 -g 0 -o -m -s /bin/bash username \r\n\t\r\n\t# change the password of a user\t\r\n\tpasswd username\r\n\t\r\n\t# delete a user and his home-dir\r\n\tuserdel -r username  \r\n\t\r\n\t# add a group (with --system is a system group)\r\n\taddgroup groupname  \r\n\t\r\n\t# add a user to a group\r\n\tusermod -a -G groupname username\r\n\t\r\n\t# delete a user from a group\r\n\tgpasswd -d username groupname\r\n\r\n\t# show log of users' login\r\n\tlast -a\r\n\t\r\n\t# show all users' name, id, sh/bash\r\n\tcat /etc/passwd\r\n\t\r\n\t# show all groups' name, id, assigned users\r\n\tcat /etc/group\r\n\r\n\t# login remote server without entering password\r\n\tssh-keygen\r\n\tssh-copy-id username@remote\r\n\tssh username@remote\r\n\t\r\n### APT and dpkg stuffs:\r\n\t\r\n\t# update apt repository data\r\n\tapt-get update\r\n\t\r\n\t# install a package with version number\r\n\tapt-get install abc=5.5.29...\r\n\t\r\n\t# search a package with name\r\n\tapt-cache search packagename\r\n\t\r\n\t# uninstall a package\r\n\tapt-get remove packagename\r\n\t\r\n\t# show information about a package\r\n\tapt-cache showpkg packagename\r\n\t\r\n\t# compare the version of a package in the apt repository and local\r\n\tapt-cache policy packagename\r\n\t\r\n\t# CLI-gui for apt\r\n\taptitude\r\n\t\r\n\t# show a list of upgradeable packages on the machine\r\n\tapt-get -u upgrade\r\n\t\r\n\t# upgrade only one package\r\n\tapt-get install --only-upgrade packagename\r\n\t\r\n\t# search a package that contains the given file or command on the machine\r\n\tdpkg -S file/command\r\n\t\r\n\t# list all installed packages\r\n\tdpkg -l\r\n\t\r\n\t# search packages that contain the given file name (can be non-installed)\r\n\tapt-file search filename \r\n\r\n\t# delete downloaded files of installation (to free some spaces on disk)\r\n\tapt-get autoclean \r\n\r\n\t# PPA install:\r\n\tadd-apt-repository ppa:user/ppa-name\r\n\tapt-get update\r\n\tapt-get install packageInThePPA\r\n\r\n\t# list all packages in one PPA\r\n\tgrep ^Package /var/lib/apt/lists/ppaname\t\r\n\t\r\n\t### backup installed packages and restore in another machine\r\n\t# create a backup of currently installed packages:\r\n\tdpkg --get-selections > packagesList\r\n\t# restore installations from the list packagesList:\r\n\tdpkg --clear-selections\r\n\tdpkg --set-selections < packagesList\r\n\tapt-get autoremove\r\n\tapt-get dselect-upgrade\r\n\t\r\n### Port forwarding over SSH: \r\n\t\r\n\t# Let's say, I want through local port 3316 to connect 3306 on example.org with username: \r\n\tssh -f username@example.org -L 3316:localhost:3306 -N\r\n\r\n### Ubuntu-Destop running in VirtualBox under Windows:\r\n\t\r\n\t# auto setup the resolution to the size of the VM-window in the host(Windows)\r\n\t\r\n\t# in 12.04\r\n\tapt-get install virtualbox-ose-guest-utils virtualbox-ose-guest-x11 virtualbox-ose-guest-dkms\r\n\t\r\n\t# in 14.04\r\n\tapt-get install virtualbox-guest-dkms\r\n\r\n### Windows-Desktop running in VirtualBox under Ubuntu:\r\n\r\n\t# auto setup the resolution to the size of the VM-window in the host(Ubuntu)\r\n\t# get the name of the running vm\r\n\tVBoxManage list runningvms \r\n\tVBoxManage controlvm \"name_of_the_running_vm\" setvideomodehint 1280 900 32 \r\n\r\n### Setup the number of workspaces in Ubuntu : 3*3\r\n\t\r\n\tdconf write /org/compiz/profiles/unity/plugins/core/hsize 3\r\n\tdconf write /org/compiz/profiles/unity/plugins/core/vsize 3\r\n\trestart\r\n\t\r\n\t# actually I don't use the above mentioned 3 commands any more because I found \r\n\t# the unity tweak tool.\t\r\n\tapt-add-repository ppa:tualatrix/ppa\r\n\tapt-get update\r\n\tapt-get install ubuntu-tweak\r\n\t\r\n### Operations for files or directories:\r\n\r\n\t# create dir\r\n\tmkdir abc\r\n\t\r\n\t# remove empty dir and its parents (a, b und c will be all deleted)\r\n\trmdir -p a/b/c \r\n\t\r\n\t# remove non-empty dir\r\n\trm -fr abc\r\n\t\r\n\t# rename dir\r\n\tmv dirname newdirname\r\n\t\r\n\t# copy dir (if target exists, copy the file in the target dir)\r\n\tcp -r path/to/sourcedir path/to/targetdir\r\n\t\r\n\t# create file\r\n\ttouch filename\r\n\t\r\n\t# copy file\r\n\tcp path/to/sourcefile path/to/targetfile\r\n\t\r\n\t# move file\r\n\tmv path/to/sourcefile path/to/target\r\n\t\r\n\t# rename file\r\n\tmv filename newfilename\r\n\t\r\n\t# show list of all files and dirs in current location with permissions and human-readable size\r\n\tls -alh\r\n\t\r\n\t# permissions: read = 4, write = 2, execute = 1\r\n\t# example: -rw-r--r--  ==> 644\r\n    \r\n\t# modify permissions of a dir and its children\r\n\tchmod -R 777 dirname\r\n\t\r\n\t# modify owner of a file or dir\r\n\tchown uid filename\r\n\t\r\n\tmodify group of a file or dir\r\n\tchgrp groupname filename\r\n\t\r\n\t# search files or dirs that contain 'abc' in name\r\n\tfind -name '*abc*'\r\n\r\n\t# search files that contain 'abc' in contents\r\n\tfind . -name '*' | xargs grep 'abc'\r\n\t# or\r\n\tfgrep -nr somethingToSearch *.*\r\n\t\r\n\t# sort files by last changed time\r\n\tfind -type f -exec stat --format '%y %n' \"{}\" \\; | sort -nr | head -n 100\r\n\t\r\n\t# replace strings in all found files using regular expression\r\n\tfind -type f -name \"*\" -exec sed -i 's/someStringsToBeReplaced/somethingNew/g' {} \\;\r\n\t\r\n\t# file monitoring\r\n\ttail -f filename\r\n\t\r\n\t# show the disk usage of files and dirs in current location\r\n\tdu -ah --max-depth=1 ./\r\n\t\r\n\t# show total disk usage of a dir\r\n\tdu -sh path/to/dir\r\n\t\r\n\t# sort files and dirs by disk usage in current location\r\n\tdu -sh * | sort -h\r\n\t\r\n\t# upload a dir to a remote machine\r\n\trsync -zrp(tg -X) /path/to/a user@remote.host.com:/path/to/b/\r\n\t\r\n\t# download dir from another machine\r\n\tscp -r user@hosturl:/path/to/dir /path/to/local/dir\r\n\t\r\n\t# download file from web\r\n\twget file-URL\r\n\t\r\n\t# compress tar.gz\r\n\ttar -zcf abc.tar.gz dirnameOrFilename\r\n\t\r\n\t# extract tar.gz\r\n\ttar -zxf abc.tar.gz\r\n\t\r\n\t# show list of files in a tar.gz\r\n\ttar -tvf abc.tar.gz\r\n\t\r\n\t# extract one file from a tar.gz\r\n\ttar -zxf abc.tar.gz path/to/filename\t\r\n\t\r\n### System and machine:\r\n\r\n\t# if I forgot every sudo-users' passwords and cannot enter the machine:\r\n\t# restart the maschine, enter \"Recovery Mode\" and type:\r\n\tmount -o remount,rw /\r\n\t\r\n\t# add path to evironment PATH for this login session\r\n\texport PATH=$PATH:/my/path\r\n\r\n\t# show enironment variables\r\n\tenv\r\n\t\r\n\t# show the version of operation system\r\n\tuname -a; head -n 1 /etc/issue\r\n\t\r\n\t# show info about CPU\r\n\tcat /proc/cpuinfo\r\n\t\r\n\t# show mounted devices\r\n\tmount | column -t\r\n\t\r\n\t# list of pci devices\r\n\tlspci -tv\r\n\t\r\n\t# list of usb devices\r\n\tlsusb -tv\r\n\t\r\n\t# show info about memory, cache and swap in MB, update every 10 seconds\r\n\tfree -m -s 5\r\n\t\r\n\t# show info about file system\r\n\tdf -ah\r\n\t\r\n\t# show info about network interfaces\r\n\tifconfig\r\n\t\r\n\t# show info about firewalls\r\n\tiptables -L\r\n\t\r\n\t# show info about listened ports (protocol, connections, status, processes)\r\n\tnetstat -plant\r\n\t\r\n\t# scan the status of a port (remote)\r\n\tnmap -p 8080 example.com\r\n\t\r\n\t# monitor net transfer\r\n\tnethogs\r\n\t\r\n\t# show info about running processes\r\n\tps -ef\r\n\tps -eaux\r\n\t\r\n\t# sort processes by current cpu usage using ps\r\n\tps -eaux | sort -k 3\r\n\t\r\n\t# sort processes by current mem usage using ps\r\n\tps -eaux | sort -k 4\r\n\t\r\n\t# monitor running processes\r\n\ttop\r\n\t\r\n\t# limit top by specific process-name\r\n\ttop -p `pgrep processName | tr \"\\\\n\" \",\" | sed \"s/,$//\"`\r\n\t\r\n### Execution of commands:\r\n\r\n\t# scheduling tasks:\r\n\t# @reboot @yearly ... @daily commands\r\n\t# or\r\n\t# 30 2 * * * commands (this means, execute the commands at 2:30 every day)\r\n\tcrontab -e\r\n\t\r\n\t# show scheduled tasks\r\n\tcrontab -l\r\n\t\r\n\t### some methods to record output\r\n\t# record all output to a file\r\n\tcommand > output.txt\r\n\t# record all output to a file (append)\r\n\tcommand >> output.txt\r\n\t# record stderr to a file\r\n\tcommand 2> output.txt\r\n\t### record output of some commands to a file without sh-file\r\n\tscript output.txt\r\n\tcommand1\r\n\tcommand2\r\n\tcommand3\r\n\texit\r\n\t### record commands and their outputs and replay that\r\n\t# record commands and outputs\r\n\tscript -t 2>commands.time output.txt\r\n\tcommand1\r\n\tcommand2\r\n\tcommand3\r\n\texit\r\n\t# replay the commands (nothing will be re-executed, only the typing and results)\r\n\tscriptreplay commands.time output.txt\r\n\r\n## Often used programs' commands:\r\n### Git:\r\n### OpenSSL:\r\n### Docker:\r\n\r\n\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}